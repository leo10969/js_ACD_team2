<html>
    <body>
        <div id="container"></div>
        <script type="text/javascript">
        var cvs = document.createElement("canvas");
        cvs.width = 500;
        cvs.height = 500;
        document.getElementById('container').appendChild(cvs);
  
        var ctx = cvs.getContext("2d");
        
        
        var node1 = new Node();
        node1.x = 100;
        node1.y = 100;
        node1.name = "Node1";

        var node2 = new Node();
        node2.x = 300;
        node2.y = 100;
        node2.name = "Node2";

        function Node() {
           var me = this;
         
           this.x = 0;
           this.y = 0;
           this.isDragged = false;
           this.name = "None";
           this.draw = function(ctx) {

               ctx.fillStyle = "gray";
               ctx.strokeStyle = "black";
               ctx.beginPath();
               ctx.arc(me.x, me.y, 50, 0, 2 * Math.PI, true);
               ctx.fill();
               ctx.stroke();
               ctx.closePath();
               ctx.beginPath();
               ctx.fillStyle = "red";
               ctx.textBaseline = "middle";
               ctx.fillText(this.name, this.x-ctx.measureText(this.name).width/2, this.y);
               ctx.fill();
               
           };
         
           window.addEventListener("mousedown", function(e) {
               var dx = me.x - e.layerX;
               var dy = me.y - e.layerY;
               me.isDragged = Math.sqrt(dx * dx + dy * dy) < 50;
           });
         
           window.addEventListener("mousemove", function(e) {
               if (me.isDragged) {
                   me.x = e.layerX;
                   me.y = e.layerY;
               }
           });
         
           window.addEventListener("mouseup", function(e) {
               me.isDragged = false;
           });
        }

        function render() {
           ctx.clearRect(0, 0, 500, 500);
           ctx.strokeStyle = "gray";
           ctx.beginPath();
           ctx.moveTo(node1.x,node1.y);
           ctx.lineTo(node2.x, node2.y);
           ctx.stroke();
           node1.draw(ctx);
           node2.draw(ctx);
        }
         
        setInterval(render, 30);
    </script>
    </body>
</html>